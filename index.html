<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Basic Page Needs ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <meta charset="utf-8">
    <title>Pool Shot Clocker</title>
    <meta name="description" content="'Pool Shot Clock', This is a webapplication for a 30 second clock for pool tournaments">
    <meta name="author" content="Shaun Gill">

    <!-- Mobile Specific Metas ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

    <!-- CSS ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- Favicon –– Circled 8 icon by Icons8, Source -> https://icons8.com/icons/set/8-circle -->
    <link rel="icon" type="image/png" href="images/favicon.png">

  </head>
  <body>
    <!--Title ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <h1>30 Second Pool Shot Clock</h1>

    <!--Timer Display ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <p id="clock_text">30</p>

    <!--Controls ––––––––––––––––––––––––––––––––––––––––––––––––––-->
    <a class="button" href="javascript:startTimer()">start</a>
    <a class="button" href="javascript:resetTimer()">reset</a>

    <audio id="warning_audio">
      <source src="audio/warning.mp3" type="audio/mp3">
    </audio>
    <audio id="foul_audio">
        <source src="audio/foul.mp3" type="audio/mp3">
      </audio>
  </body>
</html>
<script>

// change time_text down til 0
// play sound effect at 5 seconds

function startTimer(){
  var start = setInterval(updateClock, 1000);

  var time = 6;

  function updateClock() {

    //Change Timer Text
    document.getElementById("clock_text").innerText = time;
    
    //Sound Effect to be played at every second under 6
    if(time < 6){
      if(time == 0){
        document.getElementById("foul_audio").play();
      }
      else{
        document.getElementById("warning_audio").play();
      }
    }

    //Decrease Time
    time--;

    
    

    //Stop at 0
    if(time == -1){
      clearInterval(start);
      
      //Reset Timer to 30
      setTimeout(function() { document.getElementById("clock_text").innerText = 30  }, 3000);
    }
  }
}
</script>